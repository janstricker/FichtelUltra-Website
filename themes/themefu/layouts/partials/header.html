<header class="header" id="siteHeader">
    <div class="header-content">
        <p>
            <a href="/">
                <span class="titleDefault">{{ .Site.Params.titlePart1 }}</span>
                <span class="{{ if .IsHome }}titleActive{{ else }}titleDefault{{ end }}">{{ .Site.Params.titlePart2 }}</span>
            </a>
        </p>
        <p class="titleActive">
            <a href="/{{ .Section }}">
                {{ .Section }}
            </a>
        </p>
    </div>
    {{ if not .IsHome }}
    <div class="mainMenu">
        <button id="hamburgerMenu" aria-label="Menü öffnen" style="background:none;border:none;cursor:pointer;padding:0;">
            <svg id="hamburgerIcon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect class="bar bar1" y="7" width="32" height="3" rx="1.5" fill="currentColor"/>
                <rect class="bar bar2" y="14" width="32" height="3" rx="1.5" fill="currentColor"/>
                <rect class="bar bar3" y="21" width="32" height="3" rx="1.5" fill="currentColor"/>
            </svg>
        </button>
    </div>
    {{ end }}
    <div id="fullscreenMenuContainer" style="display:none;position:fixed;top:var(--header-height);left:0;width:100vw;height:calc(100vh - var(--header-height));z-index:1000;">
        {{ partial "menu-fullscreen.html" . }}
    </div>
    <style>
      #hamburgerIcon .bar {
        transition: transform 0.3s cubic-bezier(.4,0,.2,1), fill 0.3s cubic-bezier(.4,0,.2,1), opacity 0.3s;
        fill: #222;
      }
      #hamburgerMenu.open #hamburgerIcon .bar {
        fill: #fff;
      }
      #hamburgerMenu.open #hamburgerIcon .bar1 {
        transform: translateY(7px) rotate(45deg);
        transform-origin: 16px 8.5px;
      }
      #hamburgerMenu.open #hamburgerIcon .bar2 {
        opacity: 0;
      }
      #hamburgerMenu.open #hamburgerIcon .bar3 {
        transform: translateY(-7px) rotate(-45deg);
        transform-origin: 16px 23.5px;
      }
    </style>
    <script>
      const hamburger = document.getElementById('hamburgerMenu');
      const menuContainer = document.getElementById('fullscreenMenuContainer');
      const header = document.getElementById('siteHeader');
      hamburger.addEventListener('click', function() {
        if (menuContainer.style.display === 'none' || menuContainer.style.display === '') {
          menuContainer.style.display = 'block';
          header.classList.add('header-invert');
          hamburger.classList.add('open');
        } else {
          menuContainer.style.display = 'none';
          header.classList.remove('header-invert');
          hamburger.classList.remove('open');
        }
      });
      // Optional: Schließen bei Klick außerhalb
      document.addEventListener('click', function(e) {
        if (!menuContainer.contains(e.target) && !hamburger.contains(e.target)) {
          menuContainer.style.display = 'none';
          header.classList.remove('header-invert');
          hamburger.classList.remove('open');
        }
      });
    </script>
</header>